<!DOCTYPE html>
<html>
  <head>
    <title>House Price Predictor</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <style>
      /* Force dark text in Select2 dropdown items */
      .select2-container--default .select2-results__option {
        color: #212529; /* Bootstrap's text-dark */
      }

      /* Force dark text in selected items (single select) */
      .select2-container--default
        .select2-selection--single
        .select2-selection__rendered {
        color: #212529;
      }

      /* Optional: Make placeholder lighter */
      .select2-container--default
        .select2-selection--single
        .select2-selection__placeholder {
        color: #6c757d; /* Bootstrap's text-secondary */
      }
    </style>
  </head>

  <body class="container mt-5 mb-5 bg-dark text-white">
    <nav class="navbar d-flex justify-content-between">
      <h1>House Price Predictor</h1>
    </nav>
    <hr />

	{% if predicted_price %}
	<div class="mb-3">
		<h1>The price is ${{ predicted_price }}</h1>
	</div>
	{% endif %}
	<!-- Form for house price prediction -->
    <form action="/" method="POST">
      <div class="mb-3">
        <label for="sqft_living" class="form-label">Living Area(in sqft)</label>
        <input
          type="number"
          class="form-control"
          id="sqft_living"
          name="sqft_living"
          required
        />
      </div>
      <div class="mb-3">
        <label for="bedrooms" class="form-label">Bedrooms</label>
        <input
          type="number"
          class="form-control"
          id="bedrooms"
          name="bedrooms"
          required
        />
      </div>
      <div class="mb-3">
        <label for="bathrooms" class="form-label">Bathrooms</label>
        <input
          type="number"
          class="form-control"
          id="bathrooms"
          name="bathrooms"
          required
        />
      </div>
      <div class="mb-3">
        <label for="floors" class="form-label">Floors</label>
        <input
          type="number"
          class="form-control"
          id="floors"
          name="floors"
          required
        />
      </div>
      <div class="mb-3">
        <label for="sqft_lot" class="form-label">Lot/Land Area(in sqft)</label>
        <input
          type="number"
          class="form-control"
          id="sqft_lot"
          name="sqft_lot"
          required
        />
      </div>
      <div class="mb-3">
        <label for="view" class="form-label">View(out of 5)</label>
        <input
          type="number"
          class="form-control"
          id="view"
          name="view"
          required
        />
      </div>
      <div class="mb-3">
        <label for="waterfront" class="form-label">Waterfront</label>
        <input
          type="number"
          class="form-control"
          id="waterfront"
          name="waterfront"
          required
        />
      </div>
      <div class="mb-3">
        <label for="condition" class="form-label">Condition(out of 5)</label>
        <input
          type="number"
          class="form-control"
          id="condition"
          name="condition"
          required
        />
      </div>
      <div class="mb-3">
        <label for="sqft_basement" class="form-label"
          >Basement Area(in sqft)</label
        >
        <input
          type="number"
          class="form-control"
          id="sqft_basement"
          name="sqft_basement"
          required
        />
      </div>
      <div class="mb-3">
        <label for="sqft_above" class="form-label"
          >Living Area (excluding groundfloor and basement; in sqft)</label
        >
        <input
          type="number"
          class="form-control"
          id="sqft_above"
          name="sqft_above"
          required
        />
      </div>
      <div class="mb-3">
        <label for="yr_built" class="form-label">Year Built</label>
        <input
          type="number"
          class="form-control"
          id="yr_built"
          name="yr_built"
          required
        />
      </div>
      <div class="mb-3">
        <label for="yr_renovated" class="form-label"
          >Year Renovated(0 if not renovated)</label
        >
        <input
          type="number"
          class="form-control"
          id="yr_renovated"
          name="yr_renovated"
          required
        />
      </div>
      <div class="mb-3">
        <label for="city" class="form-label">City</label>
        <select class="form-control text-dark" id="city" name="city" required>
          <option value="" disabled selected>Select a city</option>
          {% for city in cities %}
          <option class="text-dark" value="{{ city }}">{{ city }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-3">
        <label for="street" class="form-label">Street</label>
        <select
          class="form-control text-dark"
          id="street"
          name="street"
          required
        >
          <option value="" disabled selected>Select a street</option>
          {% for street in streets %}
          <option class="text-dark" value="{{ street }}">{{ street }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="mb-3">
        <label for="state_zip" class="form-label">State Zipcode</label>
        <select
          class="form-control text-dark"
          id="state_zip"
          name="state_zip"
          required
        >
          <option value="" disabled selected>Select State Zipcode</option>
          {% for state_zip in state_zips %}
          <option class="text-dark" value="{{ state_zip }}">
            {{ state_zip }}
          </option>
          {% endfor %}
        </select>
      </div>

      <button type="submit" class="btn btn-primary">Predict Price</button>
    </form>


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <!-- Activate Select2 -->
    <script>
      $(document).ready(function () {
        $("#city").select2({
          placeholder: "Search and select a city",
          allowClear: true,
        });
        $("#street").select2({
          placeholder: "Search and select a street",
          allowClear: true,
        });
        $("#state_zip").select2({
          placeholder: "Search and select a state zipcode",
          allowClear: true,
        });
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
